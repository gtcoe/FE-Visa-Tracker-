{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/garvittyagi/Documents/visaistic/components/Services/SearchPax.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useCallback, lazy, Suspense } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { debounce } from 'lodash'; // Add lodash for debouncing\n\n// Lazy load all tab components for code splitting\nconst FillServiceForm = lazy(() => import('./FillServiceForm'));\nconst SearchPaxContent = lazy(() => import('./SearchPaxContent'));\nconst ServiceRequestSummary = lazy(() => import('./ServiceRequestSummary'));\n\n// Create a placeholder loading component\nconst LoadingFallback = () => (\n  <div className=\"p-6 flex justify-center items-center min-h-[300px]\">\n    <div className=\"animate-pulse flex flex-col items-center\">\n      <div className=\"h-12 w-12 rounded-full bg-gray-200 mb-4\"></div>\n      <div className=\"h-4 w-32 bg-gray-200 rounded\"></div>\n    </div>\n  </div>\n);\n\nconst SearchPax = () => {\n  const router = useRouter();\n  const [searchData, setSearchData] = useState({\n    paxName: '',\n    passportNo: '',\n    referenceNo: ''\n  });\n  const [isSearching, setIsSearching] = useState(false);\n  const [activeTab, setActiveTab] = useState('search');\n  const [tabsToPreload, setTabsToPreload] = useState<string[]>([]);\n\n  // Preload tabs that are likely to be used next\n  useEffect(() => {\n    // Preload the adjacent tabs\n    const preloadAdjacentTabs = () => {\n      if (activeTab === 'search') {\n        import('./FillServiceForm'); // Preload the next tab\n      } else if (activeTab === 'fill') {\n        import('./ServiceRequestSummary'); // Preload the next tab\n      }\n    };\n\n    // Delay preloading to not compete with current tab rendering\n    const timer = setTimeout(preloadAdjacentTabs, 1000);\n    return () => clearTimeout(timer);\n  }, [activeTab]);\n\n  // Optimize handlers with useCallback to prevent unnecessary re-renders\n  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setSearchData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  }, []);\n\n  // Debounced search function to reduce unnecessary API calls\n  const debouncedSearch = useCallback(\n    debounce(async (data) => {\n      try {\n        // Actual API call would go here\n        console.log('Searching with data:', data);\n        await new Promise(resolve => setTimeout(resolve, 500));\n        console.log('Search completed');\n      } catch (error) {\n        console.error('Error searching for pax:', error);\n      } finally {\n        setIsSearching(false);\n      }\n    }, 300), \n    []\n  );\n\n  const handleSearch = useCallback(async (e?: React.FormEvent) => {\n    if (e) e.preventDefault();\n    setIsSearching(true);\n    debouncedSearch(searchData);\n  }, [searchData, debouncedSearch]);\n\n  const handleClear = useCallback(() => {\n    setSearchData({\n      paxName: '',\n      passportNo: '',\n      referenceNo: ''\n    });\n  }, []);\n\n  // Handle tab change with preloading\n  const handleTabChange = useCallback((tab: string) => {\n    setActiveTab(tab);\n  }, []);\n\n  // Tab hover handler to initiate preloading\n  const handleTabHover = useCallback((tab: string) => {\n    if (tab !== activeTab && !tabsToPreload.includes(tab)) {\n      setTabsToPreload(prev => [...prev, tab]);\n      \n      // Dynamically import the component when user hovers\n      if (tab === 'fill') {\n        import('./FillServiceForm');\n      } else if (tab === 'summary') {\n        import('./ServiceRequestSummary');\n      } else if (tab === 'search') {\n        import('./SearchPaxContent');\n      }\n    }\n  }, [activeTab, tabsToPreload]);\n\n  // Function to render the appropriate content based on the active tab\n  const renderTabContent = useCallback(() => {\n    return (\n      <Suspense fallback={<LoadingFallback />}>\n        {activeTab === 'search' && (\n          <SearchPaxContent\n            searchData={searchData}\n            setSearchData={setSearchData}\n            handleChange={handleChange}\n            handleSearch={handleSearch}\n            handleClear={handleClear}\n            isSearching={isSearching}\n          />\n        )}\n        \n        {activeTab === 'fill' && <FillServiceForm />}\n        \n        {activeTab === 'summary' && <ServiceRequestSummary />}\n      </Suspense>\n    );\n  }, [activeTab, searchData, handleChange, handleSearch, handleClear, isSearching]);\n\n  return (\n    <div className=\"py-6 px-[80px]\">\n      <h1 className=\"text-[28px] font-bold text-[#1C1C1C] mb-6\">Service Request Form</h1>\n      \n      {/* Main Container with Tabs and Form */}\n      <div className=\"bg-white rounded-2xl border border-[#E6EAF2] shadow-sm overflow-hidden\">\n        {/* Tabs */}\n        <div className=\"flex border-b border-gray-200\">\n          <div \n            className={`px-6 py-5 font-medium text-base cursor-pointer ${activeTab === 'search' ? 'text-[#0B498B] border-b-[3px] border-[#0B498B] font-semibold' : 'text-gray-600'}`}\n            onClick={() => handleTabChange('search')}\n            onMouseEnter={() => handleTabHover('search')}\n          >\n            Search Pax\n          </div>\n          <div \n            className={`px-6 py-5 font-medium text-base cursor-pointer ${activeTab === 'fill' ? 'text-[#0B498B] border-b-[3px] border-[#0B498B] font-semibold' : 'text-gray-600'}`}\n            onClick={() => handleTabChange('fill')}\n            onMouseEnter={() => handleTabHover('fill')}\n          >\n            Fill Online Service Request Form\n          </div>\n          <div \n            className={`px-6 py-5 font-medium text-base cursor-pointer ${activeTab === 'summary' ? 'text-[#0B498B] border-b-[3px] border-[#0B498B] font-semibold' : 'text-gray-600'}`}\n            onClick={() => handleTabChange('summary')}\n            onMouseEnter={() => handleTabHover('summary')}\n          >\n            Service Request Summary\n          </div>\n        </div>\n        \n        {/* Render the content based on the active tab */}\n        {renderTabContent()}\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(SearchPax); "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 325, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}