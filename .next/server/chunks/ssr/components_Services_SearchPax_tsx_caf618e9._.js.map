{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/garvittyagi/Documents/visaistic/components/Services/SearchPax.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState, useEffect, useCallback, lazy, Suspense } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\nimport { debounce } from 'lodash'; // Add lodash for debouncing\n\n// Lazy load all tab components for code splitting\nconst FillServiceForm = lazy(() => import('./FillServiceForm'));\nconst SearchPaxContent = lazy(() => import('./SearchPaxContent'));\nconst ServiceRequestSummary = lazy(() => import('./ServiceRequestSummary'));\n\n// Create a placeholder loading component\nconst LoadingFallback = () => (\n  <div className=\"p-6 flex justify-center items-center min-h-[300px]\">\n    <div className=\"animate-pulse flex flex-col items-center\">\n      <div className=\"h-12 w-12 rounded-full bg-gray-200 mb-4\"></div>\n      <div className=\"h-4 w-32 bg-gray-200 rounded\"></div>\n    </div>\n  </div>\n);\n\nconst SearchPax = () => {\n  const router = useRouter();\n  const [searchData, setSearchData] = useState({\n    paxName: '',\n    passportNo: '',\n    referenceNo: ''\n  });\n  const [isSearching, setIsSearching] = useState(false);\n  const [activeTab, setActiveTab] = useState('search');\n  const [tabsToPreload, setTabsToPreload] = useState<string[]>([]);\n\n  // Preload tabs that are likely to be used next\n  useEffect(() => {\n    // Preload the adjacent tabs\n    const preloadAdjacentTabs = () => {\n      if (activeTab === 'search') {\n        import('./FillServiceForm'); // Preload the next tab\n      } else if (activeTab === 'fill') {\n        import('./ServiceRequestSummary'); // Preload the next tab\n      }\n    };\n\n    // Delay preloading to not compete with current tab rendering\n    const timer = setTimeout(preloadAdjacentTabs, 1000);\n    return () => clearTimeout(timer);\n  }, [activeTab]);\n\n  // Optimize handlers with useCallback to prevent unnecessary re-renders\n  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setSearchData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  }, []);\n\n  // Debounced search function to reduce unnecessary API calls\n  const debouncedSearch = useCallback(\n    debounce(async (data) => {\n      try {\n        // Actual API call would go here\n        console.log('Searching with data:', data);\n        await new Promise(resolve => setTimeout(resolve, 500));\n        console.log('Search completed');\n      } catch (error) {\n        console.error('Error searching for pax:', error);\n      } finally {\n        setIsSearching(false);\n      }\n    }, 300), \n    []\n  );\n\n  const handleSearch = useCallback(async (e?: React.FormEvent) => {\n    if (e) e.preventDefault();\n    setIsSearching(true);\n    debouncedSearch(searchData);\n  }, [searchData, debouncedSearch]);\n\n  const handleClear = useCallback(() => {\n    setSearchData({\n      paxName: '',\n      passportNo: '',\n      referenceNo: ''\n    });\n  }, []);\n\n  // Handle tab change with preloading\n  const handleTabChange = useCallback((tab: string) => {\n    setActiveTab(tab);\n  }, []);\n\n  // Tab hover handler to initiate preloading\n  const handleTabHover = useCallback((tab: string) => {\n    if (tab !== activeTab && !tabsToPreload.includes(tab)) {\n      setTabsToPreload(prev => [...prev, tab]);\n      \n      // Dynamically import the component when user hovers\n      if (tab === 'fill') {\n        import('./FillServiceForm');\n      } else if (tab === 'summary') {\n        import('./ServiceRequestSummary');\n      } else if (tab === 'search') {\n        import('./SearchPaxContent');\n      }\n    }\n  }, [activeTab, tabsToPreload]);\n\n  // Function to render the appropriate content based on the active tab\n  const renderTabContent = useCallback(() => {\n    return (\n      <Suspense fallback={<LoadingFallback />}>\n        {activeTab === 'search' && (\n          <SearchPaxContent\n            searchData={searchData}\n            setSearchData={setSearchData}\n            handleChange={handleChange}\n            handleSearch={handleSearch}\n            handleClear={handleClear}\n            isSearching={isSearching}\n          />\n        )}\n        \n        {activeTab === 'fill' && <FillServiceForm />}\n        \n        {activeTab === 'summary' && <ServiceRequestSummary />}\n      </Suspense>\n    );\n  }, [activeTab, searchData, handleChange, handleSearch, handleClear, isSearching]);\n\n  return (\n    <div className=\"py-6 px-[80px]\">\n      <h1 className=\"text-[28px] font-bold text-[#1C1C1C] mb-6\">Service Request Form</h1>\n      \n      {/* Main Container with Tabs and Form */}\n      <div className=\"bg-white rounded-2xl border border-[#E6EAF2] shadow-sm overflow-hidden\">\n        {/* Tabs */}\n        <div className=\"flex border-b border-gray-200\">\n          <div \n            className={`px-6 py-5 font-medium text-base cursor-pointer ${activeTab === 'search' ? 'text-[#0B498B] border-b-[3px] border-[#0B498B] font-semibold' : 'text-gray-600'}`}\n            onClick={() => handleTabChange('search')}\n            onMouseEnter={() => handleTabHover('search')}\n          >\n            Search Pax\n          </div>\n          <div \n            className={`px-6 py-5 font-medium text-base cursor-pointer ${activeTab === 'fill' ? 'text-[#0B498B] border-b-[3px] border-[#0B498B] font-semibold' : 'text-gray-600'}`}\n            onClick={() => handleTabChange('fill')}\n            onMouseEnter={() => handleTabHover('fill')}\n          >\n            Fill Online Service Request Form\n          </div>\n          <div \n            className={`px-6 py-5 font-medium text-base cursor-pointer ${activeTab === 'summary' ? 'text-[#0B498B] border-b-[3px] border-[#0B498B] font-semibold' : 'text-gray-600'}`}\n            onClick={() => handleTabChange('summary')}\n            onMouseEnter={() => handleTabHover('summary')}\n          >\n            Service Request Summary\n          </div>\n        </div>\n        \n        {/* Render the content based on the active tab */}\n        {renderTabContent()}\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(SearchPax); "],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}